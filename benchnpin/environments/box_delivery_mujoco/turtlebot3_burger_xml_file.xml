
<mujoco model="box_delivery_structured_env">
  <compiler angle="radian" autolimits="true" meshdir="/fs01/home/steve22/repos/BenchNPIN/benchnpin/environments/box_delivery_mujoco/models/" inertiafromgeom="true"/>

  <option integrator="implicitfast" gravity="0 0 -9.81"
          timestep="0.01" iterations="20" viscosity="1.5"/>

  <default>
    <joint limited="false" armature="0.01"/>
    <equality solref="0.0002 1" solimp="0.99 0.99 0.0001"/>
  </default>

  <asset>
    <texture type="skybox" builtin="gradient" width="512" height="512"/>
    <material name="blue_mat" rgba="0.4 0.3 0.2 1"/>
    <mesh name="corner_1" file="corner1.stl" scale="0.001 0.001 0.001"/>
    <mesh name="corner_2" file="corner2.stl" scale="0.001 0.001 0.001"/>
    <mesh name="corner_3" file="corner3.stl" scale="0.001 0.001 0.001"/>
    <mesh name="burger_base" file="burger_base.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_tire"   file="left_tire.stl"   scale="0.001 0.001 0.001"/>
    <mesh name="right_tire"  file="right_tire.stl"  scale="0.001 0.001 0.001"/>
    <mesh name="lds"         file="lds.stl"         scale="0.001 0.001 0.001"/>

    <mesh name="TurtleBot3_Straight_Bumper_base"      file="TurtleBot3_Straight_Bumper.STL"   scale="0.001 0.001 0.001"/>
    <mesh name="TurtleBot3_Curved_Bumper_base"        file="TurtleBot3_Curved_Bumper.STL"     scale="0.001 0.001 0.001"/>
    <mesh name="TurtleBot3_Triangular_Bumper_base"    file="TurtleBot3_Triangular_Bumper.STL" scale="0.001 0.001 0.001"/>

    <mesh name="Wheels"      file="Box_wheels.stl"          scale="0.0001 0.0001 0.0001"/>
    <mesh name="Wheels_support" file="Box_wheels_support.STL"  scale="0.0001 0.0001 0.0001"/>

    <mesh name="jackal_base"         file="jackal-base.stl"    scale="1 1 1"/>
    <mesh name="jackal_wheel"        file="jackal-wheel.stl"   scale="1 1 1"/>
    <mesh name="jackal_fenders"      file="jackal-fenders.stl" scale="1 1 1"/>
    <mesh name="antenna_bracket"     file="antenna_bracket.stl"scale="1 1 1"/>
    <mesh name="Antenna"             file="Antenna.stl"        scale="0.001 0.001 0.001"/>
    <mesh name="jackal_straight_bumper"       file="Jackal_straight_bumper.stl"      scale="0.001 0.001 0.001"/>
    <mesh name="jackal_bumper_curved"         file="jackal_bumper_curved.stl"        scale="0.001 0.001 0.001"/>
    <mesh name="jackal_bumper_curved_inwards" file="jackal_bumper_curved_inwards.stl"scale="0.001 0.001 0.001"/>

    <material name="mat_noreflect" rgba="0 0.3922 0 1" specular="0" shininess="0" reflectance="0"/>
  </asset>

  <visual>
    <quality shadowsize="4096"/>
    <headlight ambient="1 1 1" diffuse="1 1 1" specular="0.1 0.1 0.1"/>
  </visual>

  <worldbody>
  
    <!-- Floor -->
    <body pos="0 0 0">
      <geom name="floor" type="box" size="1.4225 0.7875 0.01" friction="0.5 0.05 0.0001" contype="1" conaffinity="1"/>
    </body>

    <!-- Corner 1 -->
    <body name="corner_1" pos="-1.4225 -0.7875 0.06" euler="-3.14 0.0 0">
      <geom name="corner_1_1" type="mesh" mesh="corner_1" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="corner_1_2" type="mesh" mesh="corner_2" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="corner_1_3" type="mesh" mesh="corner_3" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
    </body>
    
    <!-- Corner 2 -->
    <body name="corner_2" pos="1.4225 -0.7875 0.00" euler="-3.14 3.14 0">
      <geom name="corner_2_1" type="mesh" mesh="corner_1" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="corner_2_2" type="mesh" mesh="corner_2" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="corner_2_3" type="mesh" mesh="corner_3" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
    </body>
    
    <!-- Corner 3 -->
    <body name="corner_3" pos="-1.4225 0.7875 0.00" euler="0 0.0 0">
      <geom name="corner_3_1" type="mesh" mesh="corner_1" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="corner_3_2" type="mesh" mesh="corner_2" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="corner_3_3" type="mesh" mesh="corner_3" rgba="0.0 0.3 1.0 1.0" contype="1" conaffinity="1"/>
    </body>
        
    <!-- Marked area -->
    <geom name="marked_area" type="box"
      pos="1.2725 0.6375 0.01"
      size="0.15 0.15 0.0005"
      material="mat_noreflect"
      contype="0"
      conaffinity="0"
      friction="0.5 0.05 0.0001"/>
      
    <!-- transporting area -->
    <geom name="transporting_area" type="box" pos="1.4725000000000001 0.8574999999999999 0.01" size="0.05 0.05 0.05" rgba="0.33 0.39 0.46 1.0"/>
      
    <!-- transporting area Y-walls -->
    <geom name="transporting_wall_y1" type="box"
      pos="1.4725000000000001 0.7975 1.0"
      size="0.05 0.01 1.0"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"/>
      
    <geom name="transporting_wall_y2" type="box"
      pos="1.4725000000000001 0.9075 1.0"
      size="0.05 0.01 1.0"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"/>
      
    <!-- transporting area X-walls -->
    <geom name="transporting_wall_x1" type="box"
      pos="1.4125 0.8574999999999999 1.0"
      size="0.01 0.05 1.0"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"/>
      
    <geom name="transporting_wall_x2" type="box"
      pos="1.5325000000000002 0.8574999999999999 1.0"
      size="0.01 0.05 1.0"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"/>
      
    <!-- X-walls: left and right sides -->
    <geom name="Wall_X1" type="box"
      pos="-1.4325 0 0.15"
      size="0.01 0.7875 0.15"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"
      friction="0.45 0.01 0.003"/>

    <geom name="Wall_X2" type="box"
      pos="1.4325 0 0.15"
      size="0.01 0.7875 0.15"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"
      friction="0.45 0.01 0.003"/>

    <!-- Y-walls: bottom and top -->
    <geom name="Wall_Y1" type="box"
      pos="0 -0.7975 0.15"
      size="1.4225 0.01 0.15"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"
      friction="0.45 0.01 0.003"/>

    <geom name="Wall_Y2" type="box"
      pos="0 0.7975 0.15"
      size="1.4225 0.01 0.15"
      rgba="1 1 1 0.1" contype="1" conaffinity="1"
      friction="0.45 0.01 0.003"/>
    
    <site name="wp0" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp1" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp2" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp3" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp4" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp5" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp6" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp7" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp8" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp9" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp10" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp11" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp12" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp13" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp14" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp15" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp16" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp17" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp18" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp19" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp20" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp21" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp22" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp23" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp24" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp25" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp26" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp27" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp28" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp29" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp30" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp31" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp32" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp33" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp34" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp35" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp36" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp37" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp38" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp39" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp40" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp41" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp42" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp43" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp44" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp45" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp46" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp47" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp48" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
<site name="wp49" pos="0 0 5" size="0.02" rgba="0 1 0 1" type="sphere"/>
      
   <!-- Turtlebot3 robot -->

    <!-- robot -->
    <body name="base" pos="1.3012 -0.1552 0.01" euler="0 0 3.141592653589793">
      <joint type="free" name="base_joint"/>
      <!-- chassis -->
      <geom name="base_chasis" pos="-0.032 0 0.01" type="mesh" rgba="0.1 0.1 0.1 1" mesh="burger_base" friction="0.1 0.02 0.0001" mass="0.8" contype="1" conaffinity="1"/>
      <!-- small box sensor -->
      <geom name="base_sensor_1" size="0.015 0.0045 0.01" pos="-0.081 7.96327e-07 0.005" quat="0.707388 -0.706825 0 0" type="box" rgba="0.1 0.1 0.1 1" mass="0.05" contype="1" conaffinity="1"/>
      <!-- LDS sensor -->
      <geom name="base_sensor_2" pos="-0.032 0 0.182" quat="1 0 0 0" type="mesh" rgba="0.1 0.1 0.1 1" mesh="lds" mass="0.131" contype="1" conaffinity="1"/>
      <!-- Bumper -->
      <geom name="TurtleBot3_Straight_Bumper_base" pos="-0.04 -0.09 0.01" quat="1 0 0 0" type="mesh" rgba="0.3 0.13 0.08 1" mesh="TurtleBot3_Straight_Bumper_base" mass="0.1" contype="1" conaffinity="1" friction="0.1 0.02 0.0001"/>
      
      <!-- Left wheel -->
      <body name="wheel_left_link_base" pos="0 0.08 0.033" quat="0.707388 -0.706825 0 0">
        <inertial pos="0 0 0" quat="-0.000890159 0.706886 0.000889646 0.707326" mass="0.0284989" diaginertia="2.07126e-05 1.11924e-05 1.11756e-05"/>
        <joint name="wheel_left_joint" pos="0 0 0" axis="0 0 1"/>
        <geom quat="0.707388 0.706825 0 0" type="mesh" rgba="0.2 0.2 0.2 1" mesh="left_tire" friction="1.2 0.01 0.001"/>
      </body>
      
      <!-- Right wheel -->
      <body name="wheel_right_link_base" pos="0 -0.08 0.033" quat="0.707388 -0.706825 0 0">
        <inertial pos="0 0 0" quat="-0.000890159 0.706886 0.000889646 0.707326" mass="0.0284989" diaginertia="2.07126e-05 1.11924e-05 1.11756e-05"/>
        <joint name="wheel_right_joint" pos="0 0 0" axis="0 0 1"/>
        <geom quat="0.707388 0.706825 0 0" type="mesh" rgba="0.2 0.2 0.2 1" mesh="right_tire" friction="1.2 0.01 0.001"/>
      </body>
    </body> <!-- Boxes -->

    <body name="box0" pos="-0.4250 0.3407 0.045">
      <joint name="box0_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.493481 0.000000 0.000000 0.869757" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box1" pos="0.3827 -0.3854 0.050">
      <joint name="box1_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.772166 0.000000 0.000000 0.635420" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box2" pos="0.7875 0.2555 0.055">
      <joint name="box2_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.915538 0.000000 0.000000 0.402231" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box3" pos="-0.8427 0.5347 0.060">
      <joint name="box3_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.825377 0.000000 0.000000 0.564581" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box4" pos="-1.0194 -0.0447 0.065">
      <joint name="box4_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.714147 0.000000 0.000000 0.699996" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box5" pos="-0.7645 0.6662 0.070">
      <joint name="box5_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.158853 0.000000 0.000000 0.987302" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box6" pos="-0.7764 -0.3753 0.075">
      <joint name="box6_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="-0.999668 0.000000 0.000000 0.025762" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box7" pos="-0.3972 -0.4690 0.080">
      <joint name="box7_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="0.626035 0.000000 0.000000 0.779795" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box8" pos="-0.9346 -0.6180 0.085">
      <joint name="box8_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="0.087822 0.000000 0.000000 0.996136" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
    <body name="box9" pos="-0.6027 -0.1828 0.090">
      <joint name="box9_joint" type="free" />
      <geom type="box" size="0.04 0.04 0.04" material="blue_mat" mass="0.07"
            quat="0.901278 0.000000 0.000000 0.433241" friction="0.40 0.01 0.00" contype="1" conaffinity="1"/>
    </body>
  </worldbody>

  <!-- Actuator -->
  <actuator>
    <velocity name="wheel_left_actuator" ctrllimited="true" ctrlrange="-22.0 22.0" gear="1" kv="1.0" joint="wheel_left_joint" />
    <velocity name="wheel_right_actuator" ctrllimited="true" ctrlrange="-22.0 22.0" gear="1" kv="1.0" joint="wheel_right_joint" />
  </actuator>
</mujoco>